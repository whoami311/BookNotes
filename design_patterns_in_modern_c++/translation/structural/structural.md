# Structural Patterns

顾名思义，结构模式就是设置应用程序的结构，以提高 SOLID 一致性以及代码的一般可用性和可重构性。

在确定一个对象的结构时，我们可以采用两种相当著名的方法：

- 继承：对象自动获取其基类的非私有字段和函数。为了允许实例化，对象必须实现其父类中的每个纯虚拟成员；如果不实现，则是抽象对象，不能创建（但可以继承）。
- 组成：一般意味着子代不能离开父代而存在。试想一个对象拥有 `owner<T>` 类型的成员：当对象被销毁时，这些成员也会随之销毁。
- 聚合：一个对象可以包含另一个对象，但该对象也可以独立存在。想想一个对象拥有 T* 类型或`shared_ptr<T>`类型的成员。

如今，组合和聚合的处理方式完全相同。如果你有一个 Person 类，其中有一个 Address 类型的字段，你可以选择 Address 是外部类型还是嵌套类型。无论哪种情况，只要它是公有的，就可以将其实例化为 Address 或 Person::Address。

我想说的是，当我们真正指的是聚合时，使用组成（composition）一词已经变得如此普遍，以至于我们不妨将它们互换使用。这里有一些证据：当我们谈论 IoC 容器时，我们说的是组合根。但是等等，IoC 容器不是可以单独控制每个对象的生命周期吗？是的，所以我们在使用 "组成 "这个词时，实际上指的是 "聚合"。
